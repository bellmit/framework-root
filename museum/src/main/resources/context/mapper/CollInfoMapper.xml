<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.museum.dao.CollInfoMapper">
  <resultMap id="BaseResultMap" type="com.museum.model.CollInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    <id column="collinfoID" jdbcType="VARCHAR" property="collinfoid" />
    <result column="batch" jdbcType="VARCHAR" property="batch" />
    <result column="CollNo" jdbcType="VARCHAR" property="collno" />
    <result column="colldate" jdbcType="TIMESTAMP" property="colldate" />
    <result column="price" jdbcType="DECIMAL" property="price" />
    <result column="CURRENCY" jdbcType="VARCHAR" property="currency" />
    <result column="collName" jdbcType="VARCHAR" property="collname" />
    <result column="culName" jdbcType="VARCHAR" property="culname" />
    <result column="culMaterial" jdbcType="VARCHAR" property="culmaterial" />
    <result column="CulRootIn" jdbcType="VARCHAR" property="culrootin" />
    <result column="CulCondition" jdbcType="VARCHAR" property="culcondition" />
    <result column="collPath" jdbcType="VARCHAR" property="collpath" />
    <result column="cul_spread_path" jdbcType="VARCHAR" property="culSpreadPath" />
    <result column="collNum" jdbcType="INTEGER" property="collnum" />
    <result column="culid" jdbcType="VARCHAR" property="culid" />
    <result column="collectedman" jdbcType="VARCHAR" property="collectedman" />
    <result column="status" jdbcType="CHAR" property="status" />
    <result column="isAppraisal" jdbcType="VARCHAR" property="isappraisal" />
    <result column="isDeliver" jdbcType="VARCHAR" property="isdeliver" />
    <result column="unit" jdbcType="VARCHAR" property="unit" />
    <result column="remark" jdbcType="VARCHAR" property="remark" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    collinfoID, batch, CollNo, colldate, price, CURRENCY, collName, culName, culMaterial, 
    CulRootIn, CulCondition, collPath, cul_spread_path, collNum, culid, collectedman, 
    status, isAppraisal, isDeliver, unit, remark
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from coll_info
    where collinfoID = #{collinfoid,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    delete from coll_info
    where collinfoID = #{collinfoid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.museum.model.CollInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    insert into coll_info (collinfoID, batch, CollNo, 
      colldate, price, CURRENCY, 
      collName, culName, culMaterial, 
      CulRootIn, CulCondition, collPath, 
      cul_spread_path, collNum, culid, 
      collectedman, status, isAppraisal, 
      isDeliver, unit, remark
      )
    values (#{collinfoid,jdbcType=VARCHAR}, #{batch,jdbcType=VARCHAR}, #{collno,jdbcType=VARCHAR}, 
      #{colldate,jdbcType=TIMESTAMP}, #{price,jdbcType=DECIMAL}, #{currency,jdbcType=VARCHAR}, 
      #{collname,jdbcType=VARCHAR}, #{culname,jdbcType=VARCHAR}, #{culmaterial,jdbcType=VARCHAR}, 
      #{culrootin,jdbcType=VARCHAR}, #{culcondition,jdbcType=VARCHAR}, #{collpath,jdbcType=VARCHAR}, 
      #{culSpreadPath,jdbcType=VARCHAR}, #{collnum,jdbcType=INTEGER}, #{culid,jdbcType=VARCHAR}, 
      #{collectedman,jdbcType=VARCHAR}, #{status,jdbcType=CHAR}, #{isappraisal,jdbcType=VARCHAR}, 
      #{isdeliver,jdbcType=VARCHAR}, #{unit,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.museum.model.CollInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    insert into coll_info
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="collinfoid != null">
        collinfoID,
      </if>
      <if test="batch != null">
        batch,
      </if>
      <if test="collno != null">
        CollNo,
      </if>
      <if test="colldate != null">
        colldate,
      </if>
      <if test="price != null">
        price,
      </if>
      <if test="currency != null">
        CURRENCY,
      </if>
      <if test="collname != null">
        collName,
      </if>
      <if test="culname != null">
        culName,
      </if>
      <if test="culmaterial != null">
        culMaterial,
      </if>
      <if test="culrootin != null">
        CulRootIn,
      </if>
      <if test="culcondition != null">
        CulCondition,
      </if>
      <if test="collpath != null">
        collPath,
      </if>
      <if test="culSpreadPath != null">
        cul_spread_path,
      </if>
      <if test="collnum != null">
        collNum,
      </if>
      <if test="culid != null">
        culid,
      </if>
      <if test="collectedman != null">
        collectedman,
      </if>
      <if test="status != null">
        status,
      </if>
      <if test="isappraisal != null">
        isAppraisal,
      </if>
      <if test="isdeliver != null">
        isDeliver,
      </if>
      <if test="unit != null">
        unit,
      </if>
      <if test="remark != null">
        remark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="collinfoid != null">
        #{collinfoid,jdbcType=VARCHAR},
      </if>
      <if test="batch != null">
        #{batch,jdbcType=VARCHAR},
      </if>
      <if test="collno != null">
        #{collno,jdbcType=VARCHAR},
      </if>
      <if test="colldate != null">
        #{colldate,jdbcType=TIMESTAMP},
      </if>
      <if test="price != null">
        #{price,jdbcType=DECIMAL},
      </if>
      <if test="currency != null">
        #{currency,jdbcType=VARCHAR},
      </if>
      <if test="collname != null">
        #{collname,jdbcType=VARCHAR},
      </if>
      <if test="culname != null">
        #{culname,jdbcType=VARCHAR},
      </if>
      <if test="culmaterial != null">
        #{culmaterial,jdbcType=VARCHAR},
      </if>
      <if test="culrootin != null">
        #{culrootin,jdbcType=VARCHAR},
      </if>
      <if test="culcondition != null">
        #{culcondition,jdbcType=VARCHAR},
      </if>
      <if test="collpath != null">
        #{collpath,jdbcType=VARCHAR},
      </if>
      <if test="culSpreadPath != null">
        #{culSpreadPath,jdbcType=VARCHAR},
      </if>
      <if test="collnum != null">
        #{collnum,jdbcType=INTEGER},
      </if>
      <if test="culid != null">
        #{culid,jdbcType=VARCHAR},
      </if>
      <if test="collectedman != null">
        #{collectedman,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=CHAR},
      </if>
      <if test="isappraisal != null">
        #{isappraisal,jdbcType=VARCHAR},
      </if>
      <if test="isdeliver != null">
        #{isdeliver,jdbcType=VARCHAR},
      </if>
      <if test="unit != null">
        #{unit,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.museum.model.CollInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    update coll_info
    <set>
      <if test="batch != null">
        batch = #{batch,jdbcType=VARCHAR},
      </if>
      <if test="collno != null">
        CollNo = #{collno,jdbcType=VARCHAR},
      </if>
      <if test="colldate != null">
        colldate = #{colldate,jdbcType=TIMESTAMP},
      </if>
      <if test="price != null">
        price = #{price,jdbcType=DECIMAL},
      </if>
      <if test="currency != null">
        CURRENCY = #{currency,jdbcType=VARCHAR},
      </if>
      <if test="collname != null">
        collName = #{collname,jdbcType=VARCHAR},
      </if>
      <if test="culname != null">
        culName = #{culname,jdbcType=VARCHAR},
      </if>
      <if test="culmaterial != null">
        culMaterial = #{culmaterial,jdbcType=VARCHAR},
      </if>
      <if test="culrootin != null">
        CulRootIn = #{culrootin,jdbcType=VARCHAR},
      </if>
      <if test="culcondition != null">
        CulCondition = #{culcondition,jdbcType=VARCHAR},
      </if>
      <if test="collpath != null">
        collPath = #{collpath,jdbcType=VARCHAR},
      </if>
      <if test="culSpreadPath != null">
        cul_spread_path = #{culSpreadPath,jdbcType=VARCHAR},
      </if>
      <if test="collnum != null">
        collNum = #{collnum,jdbcType=INTEGER},
      </if>
      <if test="culid != null">
        culid = #{culid,jdbcType=VARCHAR},
      </if>
      <if test="collectedman != null">
        collectedman = #{collectedman,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        status = #{status,jdbcType=CHAR},
      </if>
      <if test="isappraisal != null">
        isAppraisal = #{isappraisal,jdbcType=VARCHAR},
      </if>
      <if test="isdeliver != null">
        isDeliver = #{isdeliver,jdbcType=VARCHAR},
      </if>
      <if test="unit != null">
        unit = #{unit,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        remark = #{remark,jdbcType=VARCHAR},
      </if>
    </set>
    where collinfoID = #{collinfoid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.museum.model.CollInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    update coll_info
    set batch = #{batch,jdbcType=VARCHAR},
      CollNo = #{collno,jdbcType=VARCHAR},
      colldate = #{colldate,jdbcType=TIMESTAMP},
      price = #{price,jdbcType=DECIMAL},
      CURRENCY = #{currency,jdbcType=VARCHAR},
      collName = #{collname,jdbcType=VARCHAR},
      culName = #{culname,jdbcType=VARCHAR},
      culMaterial = #{culmaterial,jdbcType=VARCHAR},
      CulRootIn = #{culrootin,jdbcType=VARCHAR},
      CulCondition = #{culcondition,jdbcType=VARCHAR},
      collPath = #{collpath,jdbcType=VARCHAR},
      cul_spread_path = #{culSpreadPath,jdbcType=VARCHAR},
      collNum = #{collnum,jdbcType=INTEGER},
      culid = #{culid,jdbcType=VARCHAR},
      collectedman = #{collectedman,jdbcType=VARCHAR},
      status = #{status,jdbcType=CHAR},
      isAppraisal = #{isappraisal,jdbcType=VARCHAR},
      isDeliver = #{isdeliver,jdbcType=VARCHAR},
      unit = #{unit,jdbcType=VARCHAR},
      remark = #{remark,jdbcType=VARCHAR}
    where collinfoID = #{collinfoid,jdbcType=VARCHAR}
  </update>
  <select id="selectByCondition" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    select
    <if test="queryModel != null and queryModel.distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from coll_info
    <if test="queryModel != null">
      <include refid="public.Where_Clause" />
    </if>
    <if test="queryModel != null and queryModel.orderByClause != null">
      order by ${queryModel.orderByClause}
    </if>
  </select>
  <delete id="deleteByCondition">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    delete from coll_info
    <if test="queryModel != null">
      <include refid="public.Where_Clause" />
    </if>
  </delete>
  <select id="countByCondition" resultType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    select count(*) from coll_info
    <if test="queryModel != null">
      <include refid="public.Where_Clause" />
    </if>
  </select>
  
  <select id="getCollNum" resultType="java.util.HashMap" parameterType="java.lang.String" >
  	select 
  		<if test="type == 0">	
  			year(colldate) as name,
	   </if>
  		<if test="type==1">
  			month(colldate) as name,
  		</if>
   		<if test="type==2">
  			day(colldate) as name,
  		</if> 	
	  	count(*) as value
		from coll_info 
	  	<if test="type==1">
  			where year(colldate) = #{condition,jdbcType=INTEGER}
  		</if>
   		<if test="type==2">
  			where month(colldate) = #{condition,jdbcType=INTEGER}
  		</if> 	
  	  	<if test="type == 0">	
  			group by year(colldate) 
	   </if>
  		<if test="type==1">
  			group by month(colldate) 
  		</if>
   		<if test="type==2">
  			group by day(colldate) 
  		</if>	
  		order by colldate	
 </select>
 
  
 <select id="culTypeStatistic" resultType="java.util.HashMap" parameterType="java.lang.String" >
  	select 
  		CulRootIn as name,
	  	count(*) as value
		from coll_info 
		<if test="year != 0">	
  			 where year(colldate) = #{year,jdbcType=INTEGER},
	   </if>  		
 		group by CulRootIn
  				
 </select>
  
  <update id="updateByConditionSelective">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    update coll_info
    <set>
      <if test="record.collinfoid != null">
        collinfoID = #{record.collinfoid,jdbcType=VARCHAR},
      </if>
      <if test="record.batch != null">
        batch = #{record.batch,jdbcType=VARCHAR},
      </if>
      <if test="record.collno != null">
        CollNo = #{record.collno,jdbcType=VARCHAR},
      </if>
      <if test="record.colldate != null">
        colldate = #{record.colldate,jdbcType=TIMESTAMP},
      </if>
      <if test="record.price != null">
        price = #{record.price,jdbcType=DECIMAL},
      </if>
      <if test="record.currency != null">
        CURRENCY = #{record.currency,jdbcType=VARCHAR},
      </if>
      <if test="record.collname != null">
        collName = #{record.collname,jdbcType=VARCHAR},
      </if>
      <if test="record.culname != null">
        culName = #{record.culname,jdbcType=VARCHAR},
      </if>
      <if test="record.culmaterial != null">
        culMaterial = #{record.culmaterial,jdbcType=VARCHAR},
      </if>
      <if test="record.culrootin != null">
        CulRootIn = #{record.culrootin,jdbcType=VARCHAR},
      </if>
      <if test="record.culcondition != null">
        CulCondition = #{record.culcondition,jdbcType=VARCHAR},
      </if>
      <if test="record.collpath != null">
        collPath = #{record.collpath,jdbcType=VARCHAR},
      </if>
      <if test="record.culSpreadPath != null">
        cul_spread_path = #{record.culSpreadPath,jdbcType=VARCHAR},
      </if>
      <if test="record.collnum != null">
        collNum = #{record.collnum,jdbcType=INTEGER},
      </if>
      <if test="record.culid != null">
        culid = #{record.culid,jdbcType=VARCHAR},
      </if>
      <if test="record.collectedman != null">
        collectedman = #{record.collectedman,jdbcType=VARCHAR},
      </if>
      <if test="record.status != null">
        status = #{record.status,jdbcType=CHAR},
      </if>
      <if test="record.isappraisal != null">
        isAppraisal = #{record.isappraisal,jdbcType=VARCHAR},
      </if>
      <if test="record.isdeliver != null">
        isDeliver = #{record.isdeliver,jdbcType=VARCHAR},
      </if>
      <if test="record.unit != null">
        unit = #{record.unit,jdbcType=VARCHAR},
      </if>
      <if test="record.remark != null">
        remark = #{record.remark,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="queryModel != null">
      <include refid="public.Update_By_Where_Clause" />
    </if>
  </update>
  <update id="updateByCondition">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 06 18:00:51 CST 2017.
    -->
    update coll_info
    set collinfoID = #{record.collinfoid,jdbcType=VARCHAR},
      batch = #{record.batch,jdbcType=VARCHAR},
      CollNo = #{record.collno,jdbcType=VARCHAR},
      colldate = #{record.colldate,jdbcType=TIMESTAMP},
      price = #{record.price,jdbcType=DECIMAL},
      CURRENCY = #{record.currency,jdbcType=VARCHAR},
      collName = #{record.collname,jdbcType=VARCHAR},
      culName = #{record.culname,jdbcType=VARCHAR},
      culMaterial = #{record.culmaterial,jdbcType=VARCHAR},
      CulRootIn = #{record.culrootin,jdbcType=VARCHAR},
      CulCondition = #{record.culcondition,jdbcType=VARCHAR},
      collPath = #{record.collpath,jdbcType=VARCHAR},
      cul_spread_path = #{record.culSpreadPath,jdbcType=VARCHAR},
      collNum = #{record.collnum,jdbcType=INTEGER},
      culid = #{record.culid,jdbcType=VARCHAR},
      collectedman = #{record.collectedman,jdbcType=VARCHAR},
      status = #{record.status,jdbcType=CHAR},
      isAppraisal = #{record.isappraisal,jdbcType=VARCHAR},
      isDeliver = #{record.isdeliver,jdbcType=VARCHAR},
      unit = #{record.unit,jdbcType=VARCHAR},
      remark = #{record.remark,jdbcType=VARCHAR}
    <if test="queryModel != null">
      <include refid="public.Update_By_Where_Clause" />
    </if>
  </update>
  
  
</mapper>
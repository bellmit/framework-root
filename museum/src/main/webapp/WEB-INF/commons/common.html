<#macro projectpath>${request.contextPath}</#macro> 

<#macro htmlHead title charset="utf-8">
<!DOCTYPE html>
<!--[if IE 9 ]><html class="ie9"><![endif]-->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, height=device-height,initial-scale=1.0, maximum-scale=1.0" />
<meta name="format-detection" content="telephone=no">

<meta name="description" content="Violate Responsive Admin Template">
<meta name="keywords" content="Super Admin, Admin, Template, Bootstrap">

<title>${title}</title>

<!-- CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/bootstrap-select.css" rel="stylesheet">
<link href="css/bootstrap-datetimepicker.css" rel="stylesheet">
<link href="css/animate.min.css" rel="stylesheet">
<link href="css/font-awesome.min.css" rel="stylesheet">
<link href="css/form.css" rel="stylesheet">
<link href="css/media-player.css" rel="stylesheet">
<link href="css/icons.css" rel="stylesheet">
<link href="css/style.css?aa=23" rel="stylesheet">

<link href="css/generics.css" rel="stylesheet">
<link rel="stylesheet" type="text/css"	href="css/zTreeStyle/metro.css" />
<link href="css/file-manager.css" rel="stylesheet">
<link href="css/fileinput.css" rel="stylesheet">
<link href="css/custom.css" rel="stylesheet">

</head>
<#nested>
</#macro>


<#macro htmlBody>
 <body id="skin-blur-violate" style="overflow:hidden">
    <#nested>
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Library -->
	<script src="js/jquery-ui.min.js"></script>
	<!-- jQuery UI -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- jQuery Easing - Requirred for Lightbox + Pie Charts-->

	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>

	<!--  Form Related -->
	<script src="js/validation/validate.min.js"></script>
	<!-- jQuery Form Validation Library -->
	<script src="js/validation/validationEngine.min.js"></script>
	<!-- jQuery Form Validation Library - requirred with above js -->
	<!-- 
	<script src="js/select.min.js"></script> -->
	<!-- Custom Select -->
	<script src="js/bootstrap-select.js"></script>
	<script src="js/defaults-zh_CN.js"></script>
	<script src="js/chosen.min.js"></script>
	<!-- Custom Multi Select -->
	<script src="js/bootstrap-datetimepicker.js"></script>
	<!-- Date & Time Picker -->
	<script src="js/colorpicker.min.js"></script>
	<!-- Color Picker -->
	<script src="js/icheck.js"></script>
	<!-- Custom Checkbox + Radio -->
	<script src="js/autosize.min.js"></script>
	<!-- Textare autosize -->
	<script src="js/toggler.min.js"></script>
	<!-- Toggler -->
	<script src="js/input-mask.min.js"></script>
	<!-- Input Mask -->
	<script src="js/spinner.min.js"></script>
	<!-- Spinner -->
	<script src="js/slider.min.js"></script>
	<!-- Input Slider -->
	<script src="js/fileupload.min.js"></script>
	<!-- File Upload -->

	<!-- Text Editor -->
	<script src="js/editor2.min.js"></script>
	<!-- WYSIWYG Editor -->
	<script src="js/markdown.min.js"></script>
	<!-- Markdown Editor -->
	<!-- Charts -->
	<script src="js/echarts.min.js"></script>
	<script src="js/shine.js"></script>
	<!-- Flot Pie chart -->

	<script src="js/sparkline.min.js"></script>
	<!-- Sparkline - Tiny charts -->

	<!-- Map -->
	<script src="js/maps/jvectormap.min.js"></script>
	<!-- jVectorMap main library -->
	<script src="js/maps/usa.js"></script>
	<!-- USA Map for jVectorMap -->

	<!-- Media -->
	<script src="js/media-player.min.js"></script>
	<!-- Video Player -->

	<!-- UX -->
	<script src="js/scroll.min.js"></script>
	<!-- Custom Scrollbar -->

	<script src="js/feeds.min.js"></script>
	<!-- News Feeds -->
	<script src="js/file-manager/elfinder.min.js"></script>
	<!-- File Manager -->

	<!-- ztree -->
	<script type="text/javascript" src="js/jquery.ztree.all-3.5.js"></script>
	
	<!-- 附件上传部分.......... -->
	<script src="js/fileinput.js"></script>
	<script src="js/purify.min.js"></script>
	<script src="js/sortable.min.js"></script>
	<script src="js/fileinput.zh.js"></script>
	
	<!-- All JS functions -->
	<script src="js/functions.js"></script>
	<script src="js/system.js?time=11)"></script>
	<script src="js/fileinput-help.js"></script>
	<script type="text/javascript">
			$.SystemApp.contextPath = "<@projectpath/>";
		
	</script>    
 </body>
 </html>
 </#macro>


<#macro pageResult page url target>
 <div class="an_btn pageResult" url="${url}" target="${target}"> 
 	<span>第${page.curPage}页</span>
 	<span>共${page.lastPage}页</span>
 	<span>
 		<#if page.curPage == 1 >
 			<a href="javascript:void(0);" data-param="first" disabled>首页</a>
 		<#else>
 			<a href="">首页</a>
 		</#if>
 	</span>
 	<span>
 		<#if page.curPage == 1 >
 			<a href="javascript:void(0);" disabled>上一页</a>
 		<#else>
 			<a href="" data-param="previous">上一页</a>
 		</#if>
 	</span>
 	<span>
 		<#if page.curPage == page.lastPage >
 			<a href="javascript:void(0);" disabled>下一页</a>
 		<#else>
 			<a href="" data-param="next">下一页</a>
 		</#if>
 	</span>
 	<span>
 		<#if page.curPage == page.lastPage >
 			<a href="javascript:void(0);"  disabled>尾页</a>
 		<#else>
 			<a href="" data-param="last">尾页</a>
 		</#if>
 	</span>
    <input type="text" class="te20" />
    <input type="button" value="跳转" onclick="" data-param="go" class="btn1" />
</div>
</#macro>

<!-- 针对sys_code表，每个action要取出代码类型 ，数据量大时使用，避免每次都请求数据-->
<#macro outputCode codetype value id codes >
	 	<#if codes??> 
	 		<#list codes as code>
	 			<#if  code.code == value >
	            	<div data-value="${code.code}">${code.codename}</div>
            	<#else>
    	        	<div data-value="${value}"></div>
            	</#if> 
	     	</#list> 
	    </#if>
</#macro>

<!-- 针对comm_code表，每个action要取出代码类型 ，数据量大时使用，避免每次都请求数据-->
<#macro outputCommCode value id codes >
	 	<#if codes??> 
	 		<#list codes as code>
	 			<#if code.code == value >
	            	<div data-value="${code.code}">${code.codename}</div>
            	<#else>
    	        	<div data-value="${value}"></div>
            	</#if> 
	     	</#list> 
	    </#if>
</#macro>

<!-- 针对sys_code表，通过js代码取值 -->
<#macro selectCode codetype value id >
	
	 	<select id="${id}" name="${id}"  class="selectpicker form-control" data-size="5" data-value="${value!''}" >
	 		
	 	 </select>
	
     <script type="text/javascript">
     	$(function(){
     		
     		$.getJSON("<@projectpath/>/public/widget/getCodes",{codeType:"${codetype}"},function(data){
				var codes = data.codes;
				var $obj = $("#${id}");
				$.each(codes,function(i,obj){
						if (obj.code=="${value}")
							$obj.append("<option selected value="+obj.code+">"+obj.codename+"</option> ");
						else
							$obj.append("<option value="+obj.code+">"+obj.codename+"</option> ");
					
				});
			});
     	});
			
	</script>
</#macro>

<!-- 针对comm_code表，通过js代码取值 -->
<#macro selectCommCode tablename,fieldname value id >
	
	 	<select id="${id}" name="${id}"  class="selectpicker form-control" data-size="5" data-value="${value!''}" >
	 		
	 	 </select>
	
     <script type="text/javascript">
     	$(function(){
     		
     		$.getJSON("<@projectpath/>/public/widget/getCommCodes",{table:"${tablename}",field:"${fieldname}"},function(data){
				var codes = data.codes;
				var $obj = $("#${id}");
				$.each(codes,function(i,obj){
						if (obj.code=="${value}")
							$obj.append("<option selected value="+obj.code+">"+obj.codename+"</option> ");
						else
							$obj.append("<option value="+obj.code+">"+obj.codename+"</option> ");
					
				});
			});
     	});
			
	</script>
</#macro>